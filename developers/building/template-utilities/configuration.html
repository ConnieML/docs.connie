<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developers/building/template-utilities/configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Configuration | Connie Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.connie.one/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.connie.one/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.connie.one/developers/building/template-utilities/configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuration | Connie Documentation"><meta data-rh="true" name="description" content="The template manages configuration in a few different ways:"><meta data-rh="true" property="og:description" content="The template manages configuration in a few different ways:"><link data-rh="true" rel="icon" href="/img/logos/connie-rtc-icon.png"><link data-rh="true" rel="canonical" href="https://docs.connie.one/developers/building/template-utilities/configuration"><link data-rh="true" rel="alternate" href="https://docs.connie.one/developers/building/template-utilities/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.connie.one/developers/building/template-utilities/configuration" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Configuration","item":"https://docs.connie.one/developers/building/template-utilities/configuration"}]}</script><link rel="stylesheet" href="https://assets.twilio.com/public_assets/paste-fonts/1.5.1/fonts.css"><link rel="stylesheet" href="/assets/css/styles.2da7e216.css">
<script src="/assets/js/runtime~main.731faf6a.js" defer="defer"></script>
<script src="/assets/js/main.65c10387.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/connie-rtc-icon.png" alt="Connie Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/connie-rtc-icon.png" alt="Connie Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Connie Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ConnieML/connieRTC-flex" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/developers/getting-started">Connie Developer</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/updating-docs">Updating Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/developer-setup">Developer setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/merge-future-updates">Merge future updates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/twilio-profile-management">Twilio Profile Management &amp; CORS Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/developers/building/feature-management/overview">Feature management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/developers/building/flex-hooks/overview">ConnieRTC hooks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/building/template-utilities/apiservice">Template utilities</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/apiservice">ApiService</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/audit-logging">Audit logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developers/building/template-utilities/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/eslint">ESLint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/logging">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/rename-template">Rename template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/serverless-wrappers">Serverless wrappers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/shared-sync-client">Shared Sync client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/task-attribute-updates">Task attribute updates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/building/template-utilities/terraform">Terraform</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/developers/building/deployment/ci-deployment">Deployment</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/frontend/overview">Frontend Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/backend/overview">Backend Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/developers/backend/fax/sinch-implementation">Fax Integration</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/backend/fax/sinch-implementation">Sinch Fax API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/developers/backend/web/adobe-implementation">Web Forms</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/backend/web/adobe-implementation">Adobe Web Forms API</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Connie Developer</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Template utilities</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configuration</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuration</h1></header><p>The template manages configuration in a few different ways:</p>
<ol>
<li><a href="#front-end-configuration">Front-end configuration</a> (i.e. enabled features, feature settings, domain to use for serverless functions) are managed via the flex-config package.<!-- -->
<ul>
<li>When <a href="#local-environment">running locally</a>, this configuration is <em>overridden</em> by the <code>public/appConfig.js</code> file in the plugin.</li>
<li>If <a href="#per-worker-configuration-overrides">per-worker overrides</a> are configured, those take precedence over all other configuration.</li>
</ul>
</li>
<li><a href="#serverless-configuration">Serverless configuration</a> is managed via <code>.env</code> files in the serverless package(s). These files are automatically generated based on the <code>.env.example</code> file in the package, so that sensitive information does not need to be committed to a repository.<!-- -->
<ul>
<li>The <a href="#setup-script-reference">setup script</a> is used to perform this automatic population.</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="front-end-configuration">Front-end configuration<a href="#front-end-configuration" class="hash-link" aria-label="Direct link to Front-end configuration" title="Direct link to Front-end configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hosted-environment">Hosted environment<a href="#hosted-environment" class="hash-link" aria-label="Direct link to Hosted environment" title="Direct link to Hosted environment">​</a></h3>
<p>Generally speaking, when running the <em>flex-project-template</em> ConnieRTC plugin, configuration is loaded from the <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration endpoint</a>. When the <em>flex-project-template</em> is deployed, a <a href="#the-custom_data-object"><code>custom_data</code></a> object is injected into ui_attributes that manages configuration for each feature within the template. This deployment is performed by the flex-config package in the template.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-environment">Local environment<a href="#local-environment" class="hash-link" aria-label="Direct link to Local environment" title="Direct link to Local environment">​</a></h3>
<p>When running ConnieRTC locally, the configuration from <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration</a> is loaded, but the configuration in <code>plugin-flex-ts-template-v2/public/appConfig.js</code> overrides anything in hosted configuration. <em>Note: the <code>appConfig.js</code> config is only used locally and has no bearing on a deploy or when on hosted ConnieRTC.</em></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Initial setup</div><div class="admonitionContent_BuS1"><p>The <code>appConfig.js</code> file is created for you as part of the initial local environment setup script, which executes when running <code>npm install</code> in the root template directory. The file is automatically populated with the feature config from the <code>flex-config/ui_attributes.common.json</code> file at the time of creation, as long as the file does not already exist.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-configuration-within-conniertc">Reading configuration within ConnieRTC<a href="#reading-configuration-within-conniertc" class="hash-link" aria-label="Direct link to Reading configuration within ConnieRTC" title="Direct link to Reading configuration within ConnieRTC">​</a></h3>
<p>Several helper functions are available for reading configuration, and can be imported from <code>plugin-flex-ts-template-v2/src/utils/configuration/index.ts</code>. The exported functions from this file are as follows:</p>
<ul>
<li>
<p><code>getFeatureFlagsGlobal</code>: Fetches the <code>custom_data</code> object from the <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration</a>, providing all of the global feature configuration and global common configuration for the template. If running locally, any values contained within <code>plugin-flex-ts-template-v2/public/appConfig.js</code> will also be returned, overriding the corresponding hosted ConnieRTC configuration values.</p>
</li>
<li>
<p><code>getFeatureFlagsUser</code>: Fetches the <code>config_overrides</code> object from the current worker&#x27;s attributes. This object contains any configuration values that were set on the worker level, overriding the corresponding global configuration values.</p>
</li>
<li>
<p><code>getFeatureFlags</code>: Returns the complete effective configuration. <strong>This is the function you should use in most cases when determining a configuration value.</strong> For each configuration value, the value returned will be as follows:</p>
<ul>
<li>If a override has been configured on the worker, that will be returned.</li>
<li>If no worker override has been configured, and the plugin is running locally, and the value is configured in <code>appConfig.js</code>, the value from <code>appConfig.js</code> will be returned.</li>
<li>Otherwise, the hosted ConnieRTC configuration value will be returned.</li>
</ul>
</li>
<li>
<p><code>getUserLanguage</code>: Returns the currently configured language, using the same order of precedence as <code>getFeatureFlags</code>. If the configured value is <code>default</code>, the browser&#x27;s language will be returned. Otherwise, if no value is configured, <code>en-US</code> will be returned.</p>
</li>
<li>
<p><code>getFlexFeatureFlag</code>: Returns the effective enablement state of the provided feature flag name.</p>
</li>
<li>
<p><code>getLoadedFeatures</code>: Allows you to query for enabled loaded features at runtime. See <a href="#checking-for-enabled-features">checking for enabled features</a>.</p>
</li>
<li>
<p><code>validateUiVersion</code>: Returns whether or not the current ConnieRTC UI version intersects the provided <a href="https://github.com/npm/node-semver?tab=readme-ov-file#ranges" target="_blank" rel="noopener noreferrer">semver range</a>. Use this to conditionally perform logic based on the running ConnieRTC UI version.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="checking-for-enabled-features">Checking for enabled features<a href="#checking-for-enabled-features" class="hash-link" aria-label="Direct link to Checking for enabled features" title="Direct link to Checking for enabled features">​</a></h4>
<p>When developing your feature, it may be beneficial to know which other features are enabled so that your feature can robustly handle all scenarios. For example, the <code>pause-recording</code> feature may wish to know if the <code>dual-channel-recording</code> feature is enabled, in order to determine what recording object to pause. While you can check the loaded configuration for which features are enabled, this does not necessarily reflect which features are actually loaded--for example, if a feature was removed from the codebase but not from the configuration. Therefore, a bespoke utility has been created for this purpose.</p>
<p>The configuration utility in the template plugin (located at <code>plugin-flex-ts-template-v2/src/utils/configuration/index.ts</code>) allows you to query for enabled loaded features at runtime by calling the exported <code>getLoadedFeatures()</code> function.</p>
<p>Example usage within a feature:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> getLoadedFeatures </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;../../utils/configuration&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">isDualChannelEnabled</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getLoadedFeatures</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;dual-channel-recording&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Usage warning</div><div class="admonitionContent_BuS1"><p>If <code>getLoadedFeatures()</code> is accessed before all features have loaded, it will return an empty array, along with the following console log:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Caution! getLoadedFeatures() was called before all features were loaded, so none will be returned.</span><br></span></code></pre></div></div><p>When using this function, be sure to call it only after all features have loaded, and validate that the above error message does not appear within your browser&#x27;s JavaScript console.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-management">Configuration management<a href="#configuration-management" class="hash-link" aria-label="Direct link to Configuration management" title="Direct link to Configuration management">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-custom_data-object">The <code>custom_data</code> object<a href="#the-custom_data-object" class="hash-link" aria-label="Direct link to the-custom_data-object" title="Direct link to the-custom_data-object">​</a></h4>
<p>The template maintains the configuration that is deployed to <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration</a> in version control under the flex-config folder. Here, you will find <code>ui_attributes.common.json</code> file containing the main configuration set.</p>
<p>At the time of a GitHub action script deploy of the template, when an environment is provided, a new file is generated from <code>ui_attributes.example.json</code> and it is called <code>ui_attributes.&lt;env-name&gt;.json</code> (unless it already exists). The contents of this file are merged over the top of the <code>ui_attributes.common.json</code> file. After merging the configuration, any placeholder values, such as the serverless domain, are replaced as part of the deployment scripts, and the final configuration set is pushed to the <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration API</a>.</p>
<p>If you wish to provide alternate feature configurations per environment, such as IDs or for testing different settings, you may create this file yourself. Simply copy <code>ui_attributes.example.json</code> to <code>ui_attributes.&lt;env-name&gt;.json</code>, perform the desired changes, and commit the file to the repository. Placeholder values within this file will continue to be automatically replaced as described above during deployment.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-data-model">The data model<a href="#the-data-model" class="hash-link" aria-label="Direct link to The data model" title="Direct link to The data model">​</a></h4>
<p>The custom_data model that lives in ui_attributes follows this schema:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;custom_data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;common&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// template-wide config options are here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;features&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;&lt;feature-name&gt;&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;enabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// other feature attributes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Developer Note</div><div class="admonitionContent_BuS1"><p>If using the add-feature script, the feature name provided may include hyphens. However, the feature name used in the custom_data will replace the hyphens with underscores to make the variable name JavaScript parser compliant.</p></div></div>
<p>Ultimately, enablement of each feature is managed by this object as it appears in the <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration</a> (or <code>appConfig.js</code> if running <a href="#local-environment">locally</a>)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="common-configuration">Common configuration<a href="#common-configuration" class="hash-link" aria-label="Direct link to Common configuration" title="Direct link to Common configuration">​</a></h4>
<p>Some configuration is not specific to a feature, and is included in the <code>common</code> section. This section is intended to be used for items that could be used by several features.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Food for thought</div><div class="admonitionContent_BuS1"><p>If you have two features which need to share a piece of configuration, consider that it likely makes more sense to combine the features rather than using common configuration.</p></div></div>
<p>The following common configuration properties are included by default:</p>
<ul>
<li><strong><code>log_level</code></strong> - The minimum log level to output to the browser console. <code>info</code> by default; may be set to <code>debug</code>, <code>log</code>, <code>warn</code>, <code>info</code>, or <code>error</code></li>
<li><strong><code>audit_log_ttl</code></strong> - The number of seconds before audit events should be removed from Sync. <code>1209600</code> (two weeks) by default. Set to <code>0</code> to keep items indefinitely.</li>
<li><strong><code>teams</code></strong> - Array of team names used by various features to populate team lists, matching the values used in worker attributes.</li>
<li><strong><code>departments</code></strong> - Array of department names used by various features to populate department lists, matching the values used in worker attributes.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="per-worker-configuration-overrides">Per-worker configuration overrides<a href="#per-worker-configuration-overrides" class="hash-link" aria-label="Direct link to Per-worker configuration overrides" title="Direct link to Per-worker configuration overrides">​</a></h4>
<p>When performing testing, or for managing a diverse contact center, you may wish different workers to have a different feature configuration. This could be variations of common settings, feature settings, or enabling a different feature set altogether. You may add a <code>config_overrides</code> object to a worker&#x27;s attributes to override any feature configuration, taking priority over both the hosted ConnieRTC configuration and the local <code>appConfig.js</code> (if applicable).</p>
<p>For example, if the <code>activity-reservation-handler</code> feature is globally enabled but you wish to disable it for a specific worker, you can add the following to the worker&#x27;s attributes to disable it:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;config_overrides&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;features&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;activity-reservation-handler&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;enabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-skills">Configuring skills<a href="#configuring-skills" class="hash-link" aria-label="Direct link to Configuring skills" title="Direct link to Configuring skills">​</a></h3>
<p>The <code>taskrouter_skills.json</code> file under the flex-config directory defines skills that should be automatically deployed. The skills in the file will be merged with any skills existing in the environment. By default this contains two sample skills, <code>template_example_sales</code> and <code>template_example_support</code>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Important note</div><div class="admonitionContent_BuS1"><p>Be sure to use skill names without spaces!</p></div></div>
<p>Here is an example of how you can populate this file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;minimum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;multivalue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;billing&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;maximum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;minimum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;multivalue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;support&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;maximum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;minimum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;multivalue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;offline_work&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;maximum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-front-end-config">Updating the front-end config<a href="#updating-the-front-end-config" class="hash-link" aria-label="Direct link to Updating the front-end config" title="Direct link to Updating the front-end config">​</a></h3>
<p>There are two strategies for managing the configuration, which are mutually exclusive:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="admin-ui">Admin UI<a href="#admin-ui" class="hash-link" aria-label="Direct link to Admin UI" title="Direct link to Admin UI">​</a></h4>
<p>You can use the <a href="/feature-library/admin-ui">admin-ui feature</a>, which is the default management style, to manage the configuration from within the ConnieRTC UI. This method is preferable when configuration needs to be changed frequently, or when non-developers need to be able to view and update the configuration.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Developer Tip</div><div class="admonitionContent_BuS1"><p>When running <a href="#local-environment">locally</a>, the admin-ui feature directly ignores what is in <code>appConfig.js</code> and shows only what is in <a href="https://www.twilio.com/docs/flex/developer/config/flex-configuration-rest-api#ui_attributes" target="_blank" rel="noopener noreferrer">hosted ConnieRTC configuration</a> or what has been overridden using the <a href="/feature-library/admin-ui#how-does-it-work">per-worker feature overrides</a>.  This can cause confusion, and for that reason, admin-ui is disabled by default via <code>appConfig.js</code> when running the template locally.</p></div></div>
<p>When using this strategy, configuration can still be updated from outside the Admin UI via deployment scripts. However, only <em>new</em> configuration will be added and no existing values will be overwritten.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure-as-code-version-control">Infrastructure-as-code (version control)<a href="#infrastructure-as-code-version-control" class="hash-link" aria-label="Direct link to Infrastructure-as-code (version control)" title="Direct link to Infrastructure-as-code (version control)">​</a></h4>
<p>Alternatively, you can also choose to manage the configuration via version control. This method is preferable when change control procedures are required within your organization, as configuration is stored and managed within the code repository, and deployed as part of the standard deployment scripts.</p>
<p>As the default management style is to use the <a href="/feature-library/admin-ui">admin-ui feature</a>, when doing a deploy of flex-config, it will only deploy the <em>net new</em> changes by merging the new config with that which is deployed already. To override this behavior, and deploy exactly what is in version control, you can select the <code>Override config set by Admin UI Panel?</code> option when deploying via the GitHub Actions script:</p>
<img src="/assets/images/github-override-config-04eb2580ab0ffbbc543e71d886653cab.png" style="width:250px">
<br>
<br>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Developer Tip</div><div class="admonitionContent_BuS1"><p>It is generally a good idea to disable the admin-ui feature if you are planning to use this style of configuration management. This is because it can create confusion to have changes made in the admin UI get overwritten by the deploy.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="serverless-configuration">Serverless configuration<a href="#serverless-configuration" class="hash-link" aria-label="Direct link to Serverless configuration" title="Direct link to Serverless configuration">​</a></h2>
<p>The template runs a setup script as part of the GitHub Actions deploy process (<code>npm run postinstall</code>) to automatically identify and populate any missing configuration and environment variables used by template features. This includes items such as the TaskRouter workspace SID, Chat and Sync service SIDs, TaskRouter workflow SIDs, serverless domains, and more.</p>
<p>When the setup script is run as part of the GitHub Actions deploy process, within the serverless package, a <code>.env.&lt;environment name here&gt;</code> file is used if present, or generated from <code>.env.example</code> if not.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="influencing-the-automatic-configuration">Influencing the automatic configuration<a href="#influencing-the-automatic-configuration" class="hash-link" aria-label="Direct link to Influencing the automatic configuration" title="Direct link to Influencing the automatic configuration">​</a></h3>
<p>If you need to add (or modify existing) environment variables that are secrets or that differ depending on environment, you can influence the automatic configuration easily.</p>
<p>When the setup script runs, it finds strings matching the pattern <code>&lt;YOUR_VARIABLE_NAME_HERE&gt;</code> in each config file it is parsing. For each variable name found this way (in our example here, the variable name is <code>VARIABLE_NAME_HERE</code>), the script will first check for an existing environment variable with that name, and use it if present. All secrets and variables configured in the GitHub environment are made available to the script as environment variables.</p>
<p>If the value is not found in the environment variables, the <code>scripts/config/mappings.json</code> file is consulted to map that variable to a value (such as a SID or serverless domain) using name-matched results from the Twilio CLI. The format of this file is as follows:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;VARIABLE_NAME_HERE&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tr-workflow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Type of Twilio resource to fetch the value of: serverless-domain, serverless-service, serverless-environment, serverless-function, tr-workspace, tr-workflow, chat-service, or sync-service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My Workflow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Name of resource to find</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;localValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My Other Workflow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Optionally override the name property with a different one when running locally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;fallback&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/(Assign.*Anyone)/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Optionally define a fallback in case the defined name is not found. Note that this regex format is allowed in any of these properties except &#x27;type&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;parent&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PARENT_VARIABLE_NAME_HERE&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Required for serverless-environment, serverless-function, and tr-workflow types. Indicates the variable representing this item&#x27;s parent object (of type serverless-service or tr-workspace, depending on this item&#x27;s type).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Let&#x27;s illustrate how to use this knowledge in a practical manner:</p>
<ol>
<li>Let&#x27;s say I am adding an integration with another service, and need to store the API key for that service as a secret, but make it available to my serverless service when deployed to an environment. In this case, I would perform the following:<!-- -->
<ol>
<li>In the appropriate <code>.env.example</code> file, add a line for the new variable, which we will call <code>INTEGRATION_API_KEY</code>. The new line would be <code>INTEGRATION_API_KEY=&lt;YOUR_INTEGRATION_API_KEY&gt;</code>. Commit this change.</li>
<li>In the GitHub environment configuration, add a new secret called <code>INTEGRATION_API_KEY</code>, populated with the necessary value.</li>
<li>Now, when I do a deploy to an environment, the setup script will use the value I specified in the GitHub environment secret to populate the service&#x27;s <code>.env</code> file. Nice!</li>
</ol>
</li>
<li>Now let&#x27;s say I am adding a feature which requires a TaskRouter workflow as a dependency. The workflow is called &quot;Feature Workflow&quot; in each environment. The serverless function(s) for the feature will need the SID of this workflow for task creation purposes. In this case, I would perform the following:<!-- -->
<ol>
<li>In the appropriate <code>.env.example</code> file, add a line for the new variable, which we will call <code>FEATURE_WORKFLOW_SID</code>. The new line would be <code>FEATURE_WORKFLOW_SID=&lt;YOUR_FEATURE_WORKFLOW_SID&gt;</code>.</li>
<li>In the <code>scripts/config/mappings.json</code> file, add a tr-workflow mapping for the new variable:</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;FEATURE_WORKFLOW_SID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tr-workflow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Feature Workflow&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ol start="3">
<li>Commit the changes.</li>
<li>Now, when I do a deploy to an environment, the setup script will fetch the SID of the TaskRouter workflow in the environment named &quot;Feature Workflow&quot; to populate the service&#x27;s <code>.env</code> file. Nice!</li>
</ol>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manually-define-the-configuration">Manually define the configuration<a href="#manually-define-the-configuration" class="hash-link" aria-label="Direct link to Manually define the configuration" title="Direct link to Manually define the configuration">​</a></h3>
<p>We can commit a <code>.env.&lt;environment name here&gt;</code> file, for example, <code>.env.dev</code>, to pre-define the environment variables. To do so, perform the following steps:</p>
<ol>
<li>Within the serverless directory you wish to pre-define configuration for, copy <a href="https://github.com/twilio-professional-services/flex-project-template/blob/main/serverless-functions/.env.example" target="_blank" rel="noopener noreferrer">the example <code>.env.example</code> file</a> to a new file named <code>.env.&lt;environment name here&gt;</code> (for example: <code>.env.dev</code>). The environment name used here must match the environment name(s) configured in GitHub.</li>
<li>Populate the variables you wish to skip auto-population. <strong>Important: Do not populate sensitive information such as auth tokens or API key secrets.</strong> You may leave the placeholders for these items, and they will continue to be auto-populated securely.</li>
<li>For your safety, the <code>.gitignore</code> file in the repository root prevents all custom <code>.env.&lt;environment name here&gt;</code> files from being committed. Once you have confirmed your new environment file does not contain any sensitive information, you will need to add it as an exclusion to the <code>.gitignore</code> file. You may do this by appending a line that contains the environment file name with a preceding <code>!</code> (for example: <code>!.env.dev</code>)</li>
<li>Now, you should be able to commit the environment file.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-script-reference">Setup script reference<a href="#setup-script-reference" class="hash-link" aria-label="Direct link to Setup script reference" title="Direct link to Setup script reference">​</a></h2>
<p>The setup script when run via <code>npm install</code> performs the following operations:</p>
<ol>
<li>Establish the Connie account to use</li>
<li>Automatically populate the <code>.env.&lt;environment name here&gt;</code> file for each package</li>
<li>Create and populate the <code>plugin-flex-ts-template-v2/public/appConfig.js</code> file if running locally</li>
<li>Run <code>npm install</code> for each package, so that it is ready to use.</li>
</ol>
<p>Several parameters are accepted when the script is run via <code>npm run postinstall</code>, which can be used to customize the script&#x27;s functionality. These parameters can be set as follows:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overwrite">overwrite<a href="#overwrite" class="hash-link" aria-label="Direct link to overwrite" title="Direct link to overwrite">​</a></h3>
<p>By default, the script will fill placeholders in files that already exist, but if the already-filled placeholder needs to be changed, or if new variables were added, those changes would not be made. The overwrite option will always start with a fresh file based on the <code>example</code> file, allowing you to easily regenerate your environment files:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --overwrite</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip-install">skip-install<a href="#skip-install" class="hash-link" aria-label="Direct link to skip-install" title="Direct link to skip-install">​</a></h3>
<p>Normally the script will run <code>npm install</code> for each package. However, if you only wish to perform configuration (such as if the install has already been performed), you may skip this step as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --skip-install</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="uninstall">uninstall<a href="#uninstall" class="hash-link" aria-label="Direct link to uninstall" title="Direct link to uninstall">​</a></h3>
<p>If you would like to completely remove the installed npm dependencies:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --uninstall</span><br></span></code></pre></div></div>
<p>This will remove <code>node_modules</code> and <code>package-lock.json</code> within each package before dependencies are installed (unless <code>--skip-install</code> is also specified, in which case dependencies would be removed but not reinstalled).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip-packages">skip-packages<a href="#skip-packages" class="hash-link" aria-label="Direct link to skip-packages" title="Direct link to skip-packages">​</a></h3>
<p>This will cause the script to not process any packages (the default set or any provided via <code>--packages=</code>). This means that no environment files or installations will be performed. This is convenient to use in conjunction with the <code>--files=</code> parameter when you are using the script to process files outside or independent of a package.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --skip-packages</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip-env">skip-env<a href="#skip-env" class="hash-link" aria-label="Direct link to skip-env" title="Direct link to skip-env">​</a></h3>
<p>This will cause the script to not perform any environment variable population; only installation (and/or uninstallation) will be performed.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --skip-env</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip-plugin">skip-plugin<a href="#skip-plugin" class="hash-link" aria-label="Direct link to skip-plugin" title="Direct link to skip-plugin">​</a></h3>
<p>When the <code>packages</code> or <code>skip-packages</code> parameters are not specified, the ConnieRTC plugin package will be installed as part of the default packages. This option prevents the ConnieRTC plugin package from being installed.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --skip-plugin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="env">env<a href="#env" class="hash-link" aria-label="Direct link to env" title="Direct link to env">​</a></h3>
<p>By default, the script will assume you are running locally and not deploying to a specific environment. When running in CI, the <code>ENVIRONMENT</code> env var is set, which the script uses to determine the environment being deployed. However, you can override this behavior by specifying an environment manually as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --env=dev</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="packages">packages<a href="#packages" class="hash-link" aria-label="Direct link to packages" title="Direct link to packages">​</a></h3>
<p>The setup script, by default, will automatically perform its steps for the following packages:</p>
<ul>
<li>flex-config</li>
<li>plugin-flex-ts-template-v2</li>
<li>serverless-functions</li>
<li>addons</li>
</ul>
<p>However, you can specify the relative path to any npm package(s) for the script to process, such as if you have added your own packages to the template, or if you want to save time in CI scripts. You can provide a comma-separated list of packages as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --packages=flex-config,serverless-schedule-manager</span><br></span></code></pre></div></div>
<p>This is ignored if the <code>--skip-packages</code> parameter is also specified.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="files">files<a href="#files" class="hash-link" aria-label="Direct link to files" title="Direct link to files">​</a></h3>
<p>In most cases, the setup script is used for processing packages. However, you may wish to populate variables within individual files outside or independent of a package. To do so, provide the path of the &quot;example&quot; file containing placeholders. The script will create a copy of the file with the placeholders filled, and the <code>example</code> in the filename replaced with the current environment (if none is specified, <code>local</code> is used).</p>
<p>You can provide a comma-separated list of files as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run postinstall -- --files=test/config.example.json,terraform/example.tfvars</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/developers/building/template-utilities/audit-logging"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Audit logging</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/developers/building/template-utilities/eslint"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ESLint</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#front-end-configuration" class="table-of-contents__link toc-highlight">Front-end configuration</a><ul><li><a href="#hosted-environment" class="table-of-contents__link toc-highlight">Hosted environment</a></li><li><a href="#local-environment" class="table-of-contents__link toc-highlight">Local environment</a></li><li><a href="#reading-configuration-within-conniertc" class="table-of-contents__link toc-highlight">Reading configuration within ConnieRTC</a></li><li><a href="#configuration-management" class="table-of-contents__link toc-highlight">Configuration management</a></li><li><a href="#configuring-skills" class="table-of-contents__link toc-highlight">Configuring skills</a></li><li><a href="#updating-the-front-end-config" class="table-of-contents__link toc-highlight">Updating the front-end config</a></li></ul></li><li><a href="#serverless-configuration" class="table-of-contents__link toc-highlight">Serverless configuration</a><ul><li><a href="#influencing-the-automatic-configuration" class="table-of-contents__link toc-highlight">Influencing the automatic configuration</a></li><li><a href="#manually-define-the-configuration" class="table-of-contents__link toc-highlight">Manually define the configuration</a></li></ul></li><li><a href="#setup-script-reference" class="table-of-contents__link toc-highlight">Setup script reference</a><ul><li><a href="#overwrite" class="table-of-contents__link toc-highlight">overwrite</a></li><li><a href="#skip-install" class="table-of-contents__link toc-highlight">skip-install</a></li><li><a href="#uninstall" class="table-of-contents__link toc-highlight">uninstall</a></li><li><a href="#skip-packages" class="table-of-contents__link toc-highlight">skip-packages</a></li><li><a href="#skip-env" class="table-of-contents__link toc-highlight">skip-env</a></li><li><a href="#skip-plugin" class="table-of-contents__link toc-highlight">skip-plugin</a></li><li><a href="#env" class="table-of-contents__link toc-highlight">env</a></li><li><a href="#packages" class="table-of-contents__link toc-highlight">packages</a></li><li><a href="#files" class="table-of-contents__link toc-highlight">files</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connie Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://connie.one" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn More<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://portal.connie.team" target="_blank" rel="noopener noreferrer" class="footer__link-item">Log In<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ConnieML/connieRTC-flex" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Connie Corp.</div></div></div></footer></div>
</body>
</html>