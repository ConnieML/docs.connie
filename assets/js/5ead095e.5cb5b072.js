"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[557],{21322:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"developers/general/emergency-diagnostic-commands","title":"Emergency Diagnostic Commands - Quick Reference","description":"Print this page and keep it accessible during Connie emergencies.","source":"@site/docs/developers/general/emergency-diagnostic-commands.md","sourceDirName":"developers/general","slug":"/developers/general/emergency-diagnostic-commands","permalink":"/developers/general/emergency-diagnostic-commands","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"Emergency Diagnostics","sidebar_position":3,"title":"Emergency Diagnostic Commands - Quick Reference"},"sidebar":"tutorialSidebar","previous":{"title":"Debugging Best Practices","permalink":"/developers/general/debugging-best-practices"},"next":{"title":"Getting Started","permalink":"/end-users/cbo-admins/getting-started"}}');var l=n(74848),t=n(28453);const c={sidebar_label:"Emergency Diagnostics",sidebar_position:3,title:"Emergency Diagnostic Commands - Quick Reference"},a="\ud83d\udea8 Emergency Diagnostic Commands - Quick Reference",o={},r=[{value:"STEP 1: Immediate Response (First 2 minutes)",id:"step-1-immediate-response-first-2-minutes",level:2},{value:"Primary Diagnostic Tool - START HERE",id:"primary-diagnostic-tool---start-here",level:3},{value:"Quick Health Check",id:"quick-health-check",level:3},{value:"STEP 2: Function-Level Diagnostics",id:"step-2-function-level-diagnostics",level:2},{value:"Serverless Function Investigation",id:"serverless-function-investigation",level:3},{value:"Manual Function Testing",id:"manual-function-testing",level:3},{value:"STEP 3: Studio Flow Analysis",id:"step-3-studio-flow-analysis",level:2},{value:"Flow Execution Investigation",id:"flow-execution-investigation",level:3},{value:"STEP 4: TaskRouter Investigation",id:"step-4-taskrouter-investigation",level:2},{value:"Queue and Workflow Analysis",id:"queue-and-workflow-analysis",level:3},{value:"STEP 5: Call-Level Investigation",id:"step-5-call-level-investigation",level:2},{value:"Detailed Call Analysis",id:"detailed-call-analysis",level:3},{value:"CRITICAL SERVICE IDs",id:"critical-service-ids",level:2},{value:"Emergency Response Scenarios",id:"emergency-response-scenarios",level:2},{value:"Scenario 1: &quot;Option not available at this time&quot;",id:"scenario-1-option-not-available-at-this-time",level:3},{value:"Scenario 2: Voicemail not working",id:"scenario-2-voicemail-not-working",level:3},{value:"Scenario 3: Email notifications not sending",id:"scenario-3-email-notifications-not-sending",level:3},{value:"Scenario 4: Studio Flow not executing",id:"scenario-4-studio-flow-not-executing",level:3},{value:"Log Analysis Commands",id:"log-analysis-commands",level:2},{value:"Filter Logs by Severity",id:"filter-logs-by-severity",level:3},{value:"Time-Based Log Analysis",id:"time-based-log-analysis",level:3},{value:"Account-Level Diagnostics",id:"account-level-diagnostics",level:2},{value:"Account Health Check",id:"account-health-check",level:3},{value:"Configuration Verification",id:"configuration-verification",level:3},{value:"Network and Connectivity",id:"network-and-connectivity",level:2},{value:"Webhook Testing",id:"webhook-testing",level:3},{value:"DNS and SSL Verification",id:"dns-and-ssl-verification",level:3},{value:"Emergency Contact Protocol",id:"emergency-contact-protocol",level:2},{value:"Documentation Process",id:"documentation-process",level:3},{value:"Command Output Saving",id:"command-output-saving",level:3},{value:"Quick Status Check Script",id:"quick-status-check-script",level:2},{value:"Memory Aids",id:"memory-aids",level:2},{value:"Remember the Pattern: LOGS \u2192 CALLS \u2192 FLOWS \u2192 TASKS",id:"remember-the-pattern-logs--calls--flows--tasks",level:3},{value:"Critical Questions to Answer",id:"critical-questions-to-answer",level:3},{value:"Emergency Escalation",id:"emergency-escalation",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"-emergency-diagnostic-commands---quick-reference",children:"\ud83d\udea8 Emergency Diagnostic Commands - Quick Reference"})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Print this page and keep it accessible during Connie emergencies."})}),"\n",(0,l.jsx)(i.h2,{id:"step-1-immediate-response-first-2-minutes",children:"STEP 1: Immediate Response (First 2 minutes)"}),"\n",(0,l.jsx)(i.h3,{id:"primary-diagnostic-tool---start-here",children:"Primary Diagnostic Tool - START HERE"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Real-time function logs - MOST IMPORTANT COMMAND\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail\n"})}),"\n",(0,l.jsx)(i.h3,{id:"quick-health-check",children:"Quick Health Check"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Recent failed calls\ntwilio api:core:calls:list --limit 5 --status failed\n\n# Recent completed calls  \ntwilio api:core:calls:list --limit 5 --status completed\n\n# Current Twilio profile\ntwilio profiles:list\n"})}),"\n",(0,l.jsx)(i.h2,{id:"step-2-function-level-diagnostics",children:"STEP 2: Function-Level Diagnostics"}),"\n",(0,l.jsx)(i.h3,{id:"serverless-function-investigation",children:"Serverless Function Investigation"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# All functions in service\ntwilio serverless:functions:list --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b\n\n# Recent logs for specific function\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --function-sid [FUNCTION_SID] --limit 20\n\n# Environment variables check\ntwilio serverless:environments:list --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b\n"})}),"\n",(0,l.jsx)(i.h3,{id:"manual-function-testing",children:"Manual Function Testing"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:'# Test function endpoint directly\ncurl -X POST https://[DEPLOYMENT_DOMAIN]/[FUNCTION_PATH] \\\n  -d "CallSid=test&From=%2B15551234567&To=%2B15559876543&mode=debug" \\\n  -H "Content-Type: application/x-www-form-urlencoded"\n'})}),"\n",(0,l.jsx)(i.h2,{id:"step-3-studio-flow-analysis",children:"STEP 3: Studio Flow Analysis"}),"\n",(0,l.jsx)(i.h3,{id:"flow-execution-investigation",children:"Flow Execution Investigation"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Recent flow executions\ntwilio api:studio:v2:flows:executions:list --flow-sid [FLOW_SID] --limit 10\n\n# Specific execution details\ntwilio api:studio:v2:flows:executions:fetch --flow-sid [FLOW_SID] --sid [EXECUTION_SID]\n\n# Execution steps (deep dive)\ntwilio api:studio:v2:flows:executions:steps:list --flow-sid [FLOW_SID] --execution-sid [EXECUTION_SID]\n\n# All flows in account\ntwilio api:studio:v2:flows:list\n"})}),"\n",(0,l.jsx)(i.h2,{id:"step-4-taskrouter-investigation",children:"STEP 4: TaskRouter Investigation"}),"\n",(0,l.jsx)(i.h3,{id:"queue-and-workflow-analysis",children:"Queue and Workflow Analysis"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Recent tasks\ntwilio api:taskrouter:v1:workspaces:tasks:list --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6 --limit 10\n\n# Specific task details\ntwilio api:taskrouter:v1:workspaces:tasks:fetch --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6 --sid [TASK_SID]\n\n# All workflows\ntwilio api:taskrouter:v1:workspaces:workflows:list --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6\n\n# All queues\ntwilio api:taskrouter:v1:workspaces:task-queues:list --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6\n"})}),"\n",(0,l.jsx)(i.h2,{id:"step-5-call-level-investigation",children:"STEP 5: Call-Level Investigation"}),"\n",(0,l.jsx)(i.h3,{id:"detailed-call-analysis",children:"Detailed Call Analysis"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Specific call details\ntwilio api:core:calls:fetch --sid [CALL_SID]\n\n# Call recordings\ntwilio api:core:calls:recordings:list --call-sid [CALL_SID]\n\n# Call events\ntwilio api:core:calls:events:list --call-sid [CALL_SID]\n\n# Call feedback\ntwilio api:core:calls:feedback:fetch --call-sid [CALL_SID]\n"})}),"\n",(0,l.jsx)(i.h2,{id:"critical-service-ids",children:"CRITICAL SERVICE IDs"}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Memorize these for fast emergency response:"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:'# Connie Serverless Service\nSERVICE_SID="ZS906734499c94e8fb7c2eca7c708f8f6b"\n\n# Flex Workspace\nWORKSPACE_SID="WS7d3bcedb08a791b201aa4ec4fdadcfe6"\n\n# Common Commands with SIDs\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail\ntwilio api:taskrouter:v1:workspaces:tasks:list --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6 --limit 10\n'})}),"\n",(0,l.jsx)(i.h2,{id:"emergency-response-scenarios",children:"Emergency Response Scenarios"}),"\n",(0,l.jsx)(i.h3,{id:"scenario-1-option-not-available-at-this-time",children:'Scenario 1: "Option not available at this time"'}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Check workflow configuration\ntwilio api:taskrouter:v1:workspaces:workflows:list --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6\n\n# Check function logs for workflow errors\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail | grep -i workflow\n"})}),"\n",(0,l.jsx)(i.h3,{id:"scenario-2-voicemail-not-working",children:"Scenario 2: Voicemail not working"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:'# Check voicemail function logs\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail | grep -i voicemail\n\n# Test voicemail function directly\ncurl -X POST https://[DOMAIN]/features/callback-and-voicemail-with-email/studio/wait-experience \\\n  -d "CallSid=test&mode=voicemail" \\\n  -H "Content-Type: application/x-www-form-urlencoded"\n'})}),"\n",(0,l.jsx)(i.h3,{id:"scenario-3-email-notifications-not-sending",children:"Scenario 3: Email notifications not sending"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Check email function logs\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail | grep -i email\n\n# Test Mailgun API directly\ncurl -s --user \"api:[MAILGUN_API_KEY]\" \\\n    https://api.mailgun.net/v3/[MAILGUN_DOMAIN]/messages \\\n    -F from='Test <test@[MAILGUN_DOMAIN]>' \\\n    -F to='[ADMIN_EMAIL]' \\\n    -F subject='Emergency Test' \\\n    -F text='Testing Mailgun during emergency'\n"})}),"\n",(0,l.jsx)(i.h3,{id:"scenario-4-studio-flow-not-executing",children:"Scenario 4: Studio Flow not executing"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Check phone number webhook configuration\ntwilio api:core:incoming-phone-numbers:list --phone-number [PHONE_NUMBER]\n\n# Check if flow is published\ntwilio api:studio:v2:flows:fetch --sid [FLOW_SID]\n\n# Recent flow executions\ntwilio api:studio:v2:flows:executions:list --flow-sid [FLOW_SID] --limit 5\n"})}),"\n",(0,l.jsx)(i.h2,{id:"log-analysis-commands",children:"Log Analysis Commands"}),"\n",(0,l.jsx)(i.h3,{id:"filter-logs-by-severity",children:"Filter Logs by Severity"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:'# Error logs only\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail | grep -i error\n\n# Warning logs\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail | grep -i warn\n\n# Success confirmations\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --tail | grep -i "completed successfully"\n'})}),"\n",(0,l.jsx)(i.h3,{id:"time-based-log-analysis",children:"Time-Based Log Analysis"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Last 100 log entries\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --limit 100\n\n# Logs since specific time (requires date format)\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --start-date 2024-01-01\n"})}),"\n",(0,l.jsx)(i.h2,{id:"account-level-diagnostics",children:"Account-Level Diagnostics"}),"\n",(0,l.jsx)(i.h3,{id:"account-health-check",children:"Account Health Check"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Account information\ntwilio api:core:accounts:fetch\n\n# Account usage\ntwilio api:usage:records:list --limit 10\n\n# Service status\ntwilio api:core:applications:list\n"})}),"\n",(0,l.jsx)(i.h3,{id:"configuration-verification",children:"Configuration Verification"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Verify phone number configuration\ntwilio api:core:incoming-phone-numbers:list\n\n# Check account balance\ntwilio api:core:accounts:fetch | grep Balance\n\n# API key validation\ntwilio api:core:keys:list\n"})}),"\n",(0,l.jsx)(i.h2,{id:"network-and-connectivity",children:"Network and Connectivity"}),"\n",(0,l.jsx)(i.h3,{id:"webhook-testing",children:"Webhook Testing"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:'# Test webhook URL accessibility\ncurl -I https://[DEPLOYMENT_DOMAIN]/[FUNCTION_PATH]\n\n# Test with POST data\ncurl -X POST https://[DEPLOYMENT_DOMAIN]/[FUNCTION_PATH] \\\n  -d "test=true" \\\n  -H "Content-Type: application/x-www-form-urlencoded"\n'})}),"\n",(0,l.jsx)(i.h3,{id:"dns-and-ssl-verification",children:"DNS and SSL Verification"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Check domain resolution\nnslookup [DEPLOYMENT_DOMAIN]\n\n# Check SSL certificate\ncurl -I https://[DEPLOYMENT_DOMAIN]\n"})}),"\n",(0,l.jsx)(i.h2,{id:"emergency-contact-protocol",children:"Emergency Contact Protocol"}),"\n",(0,l.jsx)(i.h3,{id:"documentation-process",children:"Documentation Process"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Save all command outputs"})," to files for analysis"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Timestamp everything"})," for accurate incident tracking"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Note the exact error messages"})," and context"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Document reproduction steps"})," for future prevention"]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"command-output-saving",children:"Command Output Saving"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Save logs to file with timestamp\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --limit 100 > emergency_logs_$(date +%Y%m%d_%H%M%S).txt\n\n# Save call analysis\ntwilio api:core:calls:list --limit 20 > call_analysis_$(date +%Y%m%d_%H%M%S).txt\n"})}),"\n",(0,l.jsx)(i.h2,{id:"quick-status-check-script",children:"Quick Status Check Script"}),"\n",(0,l.jsxs)(i.p,{children:["Save this as ",(0,l.jsx)(i.code,{children:"connie_health_check.sh"}),":"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:'#!/bin/bash\necho "=== CONNIE HEALTH CHECK $(date) ==="\necho ""\necho "Recent Calls:"\ntwilio api:core:calls:list --limit 3\necho ""\necho "Recent Tasks:"\ntwilio api:taskrouter:v1:workspaces:tasks:list --workspace-sid WS7d3bcedb08a791b201aa4ec4fdadcfe6 --limit 3\necho ""\necho "Function Status:"\ntwilio serverless:logs --service-sid ZS906734499c94e8fb7c2eca7c708f8f6b --limit 5\necho "=== END HEALTH CHECK ==="\n'})}),"\n",(0,l.jsx)(i.h2,{id:"memory-aids",children:"Memory Aids"}),"\n",(0,l.jsx)(i.h3,{id:"remember-the-pattern-logs--calls--flows--tasks",children:"Remember the Pattern: LOGS \u2192 CALLS \u2192 FLOWS \u2192 TASKS"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"LOGS"}),": Check serverless function logs first"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"CALLS"}),": Analyze call history and status"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"FLOWS"}),": Investigate Studio Flow executions"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"TASKS"}),": Review TaskRouter task processing"]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"critical-questions-to-answer",children:"Critical Questions to Answer"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Is the function receiving requests?"}),"\n",(0,l.jsx)(i.li,{children:"Are parameters being passed correctly?"}),"\n",(0,l.jsx)(i.li,{children:"Is authentication working?"}),"\n",(0,l.jsx)(i.li,{children:"Are external APIs responding?"}),"\n",(0,l.jsx)(i.li,{children:"Is the business logic executing?"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"emergency-escalation",children:"Emergency Escalation"}),"\n",(0,l.jsx)(i.p,{children:"If these commands don't reveal the issue:"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"Save all diagnostic output to files"}),"\n",(0,l.jsx)(i.li,{children:"Document exact reproduction steps"}),"\n",(0,l.jsx)(i.li,{children:"Identify when the issue started"}),"\n",(0,l.jsx)(i.li,{children:"Gather environment and configuration details"}),"\n",(0,l.jsx)(i.li,{children:"Escalate with complete diagnostic package"}),"\n"]}),"\n",(0,l.jsx)(i.hr,{}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.strong,{children:"Remember"}),': The voicemail emergency was solved by comprehensive logging showing "workflows.find is not a function". Emergency response is only as good as your logging standards. Follow the Connie Logging Standards for all features.']})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>c,x:()=>a});var s=n(96540);const l={},t=s.createContext(l);function c(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);