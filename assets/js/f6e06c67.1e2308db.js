"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[9936],{28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>s});var n=r(96540);const o={},i=n.createContext(o);function a(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(i.Provider,{value:t},e.children)}},40437:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"developers/building/feature-management/remove-features","title":"Removing features","description":"When deploying the template, you may not wish to include every feature if you are deploying to an existing production environment that has prior customizations in place. Or, you may wish to deploy only a single feature from the template. There are two ways to remove features from the template:","source":"@site/docs/developers/building/feature-management/remove-features.md","sourceDirName":"developers/building/feature-management","slug":"/developers/building/feature-management/remove-features","permalink":"/developers/building/feature-management/remove-features","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Remove features","title":"Removing features"},"sidebar":"developer","previous":{"title":"Add new feature","permalink":"/developers/building/feature-management/add-new-feature"},"next":{"title":"Create standalone feature","permalink":"/developers/building/feature-management/template-as-shell"}}');var o=r(74848),i=r(28453);const a={sidebar_label:"Remove features",title:"Removing features"},s=void 0,l={},d=[{value:"Using the <code>remove-features</code> script",id:"using-the-remove-features-script",level:2},{value:"How it works",id:"how-it-works",level:2}];function c(e){const t={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"When deploying the template, you may not wish to include every feature if you are deploying to an existing production environment that has prior customizations in place. Or, you may wish to deploy only a single feature from the template. There are two ways to remove features from the template:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"remove-features"})," script, which allows you to remove some or all features from the template, based on the parameters provided. This script also removes those feature references from GitHub Actions workflows and from flex-config JSON if necessary."]}),"\n",(0,o.jsx)(t.li,{children:"Delete the individual feature directories from the plugin and serverless packages manually."}),"\n"]}),"\n",(0,o.jsxs)(t.h2,{id:"using-the-remove-features-script",children:["Using the ",(0,o.jsx)(t.code,{children:"remove-features"})," script"]}),"\n",(0,o.jsx)(t.p,{children:"If you'd like to remove all features from the template, run the script without any arguments:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"npm run remove-features\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you'd like to remove a few specific features, you may include them as additional arguments to the command. The following example will remove only the ",(0,o.jsx)(t.code,{children:"chat-to-video-escalation"})," and ",(0,o.jsx)(t.code,{children:"schedule-manager"})," features:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"npm run remove-features chat-to-video-escalation schedule-manager\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you'd like to remove everything ",(0,o.jsx)(t.em,{children:"except"})," certain features, you may provide an ",(0,o.jsx)(t.code,{children:"except"})," argument to the command, then list the features to keep as additional arguments. The following example will remove all features ",(0,o.jsx)(t.em,{children:"except"})," ",(0,o.jsx)(t.code,{children:"admin-ui"}),", ",(0,o.jsx)(t.code,{children:"attribute-viewer"}),", and ",(0,o.jsx)(t.code,{children:"dual-channel-recording"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"npm run remove-features except admin-ui attribute-viewer dual-channel-recording\n"})}),"\n",(0,o.jsx)(t.admonition,{title:"Note",type:"info",children:(0,o.jsxs)(t.p,{children:["If you have already deployed to the environment before removing features, the configuration for removed features will remain in the environment, which will result in them appearing in the admin-ui panel. To remove these, run the deployment again with the ",(0,o.jsx)(t.code,{children:"Override config set by Admin UI Panel?"})," option selected."]})}),"\n",(0,o.jsx)(t.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"remove-features"})," script performs the following operations:"]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Remove feature references from the infra-as-code package"}),"\n",(0,o.jsx)(t.li,{children:"Remove feature references from flex-config JSON files"}),"\n",(0,o.jsx)(t.li,{children:"Remove feature directories from the Flex plugin"}),"\n",(0,o.jsx)(t.li,{children:"Remove feature directories from the serverless functions and assets"}),"\n",(0,o.jsx)(t.li,{children:"Remove the schedule-manager serverless package if the feature is not being excluded"}),"\n",(0,o.jsx)(t.li,{children:"Remove the chat-to-video-escalation web app package if the feature is not being excluded"}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["For GitHub Action workflow modifications, the script looks for ",(0,o.jsx)(t.code,{children:"# FEATURE:"})," and ",(0,o.jsx)(t.code,{children:"# END FEATURE:"})," blocks within the workflow YAML. If that feature is being removed, the block(s) corresponding to that feature name are removed."]}),"\n",(0,o.jsxs)(t.p,{children:["For flex-config JSON modifications, the script simply filters the ",(0,o.jsx)(t.code,{children:"features"})," object keys to keep only the feature(s) not being removed."]}),"\n",(0,o.jsx)(t.p,{children:"For the rest of the removals, the script removes feature directories as appropriate."})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);