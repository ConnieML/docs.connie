"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[202],{24931:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"feature-library/hang-up-by","title":"hang-up-by","description":"This feature writes to the conversations.hangupby task attribute to allow reporting within Flex Insights on which party ended a call. This is accomplished by adding various Flex UI action and event listeners to deduce the reason for the conversation ending.","source":"@site/docs/feature-library/hang-up-by.md","sourceDirName":"feature-library","slug":"/feature-library/hang-up-by","permalink":"/feature-library/hang-up-by","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"hang-up-by","title":"hang-up-by"},"sidebar":"tutorialSidebar","previous":{"title":"force-conference-region","permalink":"/feature-library/force-conference-region"},"next":{"title":"inline-media","permalink":"/feature-library/inline-media"}}');var i=n(74848),a=n(28453),s=n(61425);const o={sidebar_label:"hang-up-by",title:"hang-up-by"},l=void 0,c={},d=[...s.RM,{value:"Setup and dependencies",id:"setup-and-dependencies",level:2},{value:"How it works",id:"how-it-works",level:2}];function h(e){const t={code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsxs)(t.p,{children:["This feature writes to the ",(0,i.jsx)(t.code,{children:"conversations.hang_up_by"})," task attribute to allow reporting within Flex Insights on which party ended a call. This is accomplished by adding various Flex UI action and event listeners to deduce the reason for the conversation ending."]}),"\n",(0,i.jsxs)(t.p,{children:["For external transfers, this also writes the ",(0,i.jsx)(t.code,{children:"conversations.destination"})," task attribute to allow reporting on the phone numbers customers are being transferred to, available in Flex Insights under the ",(0,i.jsx)(t.code,{children:"Destination"})," attribute."]}),"\n",(0,i.jsx)(t.p,{children:"The following values may be set for hang up by:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Customer"}),"\n",(0,i.jsx)(t.li,{children:"Agent"}),"\n",(0,i.jsxs)(t.li,{children:["Consult ",(0,i.jsx)(t.em,{children:"(a consulting agent left the call before a warm transfer completed)"})]}),"\n",(0,i.jsx)(t.li,{children:"Cold Transfer"}),"\n",(0,i.jsx)(t.li,{children:"Warm Transfer"}),"\n",(0,i.jsxs)(t.li,{children:["External Cold Transfer ",(0,i.jsx)(t.em,{children:"(unused out-of-the-box, but available for customizations)"})]}),"\n",(0,i.jsx)(t.li,{children:"External Warm Transfer"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["This data is available in Flex Insights under the ",(0,i.jsx)(t.code,{children:"Hang Up By"})," attribute."]}),"\n",(0,i.jsx)(t.h2,{id:"setup-and-dependencies",children:"Setup and dependencies"}),"\n",(0,i.jsxs)(t.p,{children:["Apart from enabling the ",(0,i.jsx)(t.code,{children:"hang-up-by"})," feature, the task attributes set by this feature need to be initialized when tasks are created. For example, in a Studio flow ",(0,i.jsx)(t.code,{children:"Send To Flex"})," widget, initialize the task attributes as follows:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'{\n  "conversations": {\n    "hang_up_by": "Customer"\n  }\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"This is important to enable accurate reporting when the customer abandons the call before an agent answers."}),"\n",(0,i.jsx)(t.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,i.jsx)(t.p,{children:"Various action and event listeners are used to determine the party who ended the call. This value is kept in local storage until task wrap-up or task completion, when it is written to task attributes. Flex Insights reads task attributes at the time of reservation completion, and associates the task attributes to the correct reservation."})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>o});var r=n(96540);const i={},a=r.createContext(i);function s(e){const t=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:t},e.children)}},61425:(e,t,n)=>{n.d(t,{Ay:()=>o,RM:()=>a});var r=n(74848),i=n(28453);const a=[];function s(e){const t={a:"a",admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,r.jsx)(t.admonition,{title:"Also available in Flex Plugin Library",type:"info",children:(0,r.jsxs)(t.p,{children:["A version of this feature is also available in the ",(0,r.jsx)(t.a,{href:"https://www.twilio.com/docs/flex/developer/plugins/plugin-library",children:"Flex Plugin Library"}),". If you prefer to use the Plugin Library version alongside the template, please ",(0,r.jsx)(t.a,{href:"/developers/building/feature-management/remove-features",children:"remove this feature"})," from your instance of the template to prevent conflicts."]})})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}}}]);