"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[3882],{8565:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"developers/building/flex-hooks/channels","title":"channels","description":"Use a channels hook to register new task channel definitions.","source":"@site/docs/developers/building/flex-hooks/channels.md","sourceDirName":"developers/building/flex-hooks","slug":"/developers/building/flex-hooks/channels","permalink":"/developers/building/flex-hooks/channels","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"developer","previous":{"title":"actions","permalink":"/developers/building/flex-hooks/actions"},"next":{"title":"chat-orchestrator","permalink":"/developers/building/flex-hooks/chat-orchestrator"}}');var s=t(74848),o=t(28453);const i={},l=void 0,c={},r=[];function k(n){const e={a:"a",code:"code",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["Use a channels hook to register new ",(0,s.jsx)(e.a,{href:"https://www.twilio.com/docs/flex/developer/ui/task-channel-definitions",children:"task channel definitions"}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"import * as ConnieRTC from '@twilio/flex-ui';\nimport PhoneCallbackIcon from '@material-ui/icons/PhoneCallback';\n\nimport { TaskAttributes } from '../../../../types/task-router/Task';\n\nexport const channelHook = function createCallbackChannel(flex: typeof ConnieRTC, manager: ConnieRTC.Manager) {\n  const channelDefinition = flex.DefaultTaskChannels.createDefaultTaskChannel(\n    'callback',\n    (task) => {\n      const { taskType } = task.attributes as TaskAttributes;\n      return task.taskChannelUniqueName === 'voice' && taskType === 'callback';\n    },\n    'CallbackIcon',\n    'CallbackIcon',\n    'palegreen',\n  );\n\n  const { templates } = channelDefinition;\n  const CallbackChannel: ConnieRTC.TaskChannelDefinition = {\n    ...channelDefinition,\n    templates: {\n      ...templates,\n      TaskListItem: {\n        ...templates?.TaskListItem,\n        firstLine: (task: ConnieRTC.ITask) => `${task.queueName}: ${task.attributes.name}`,\n      },\n      TaskCanvasHeader: {\n        ...templates?.TaskCanvasHeader,\n        title: (task: ConnieRTC.ITask) => `${task.queueName}: ${task.attributes.name}`,\n      },\n      IncomingTaskCanvas: {\n        ...templates?.IncomingTaskCanvas,\n        firstLine: (task: ConnieRTC.ITask) => task.queueName,\n      },\n    },\n    icons: {\n      active: <PhoneCallbackIcon key=\"active-callback-icon\" />,\n      list: <PhoneCallbackIcon key=\"list-callback-icon\" />,\n      main: <PhoneCallbackIcon key=\"main-callback-icon\" />,\n    },\n  };\n\n  return CallbackChannel;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"Alternatively, you can use a channels hook to modify an existing task channel definition."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'import * as ConnieRTC from \'@twilio/flex-ui\';\n\nimport CustomerAvatarObject from \'../../custom-components/CustomerAvatarObject\';\n\nexport const channelHook = function overrideCallChannelToUseCustomerAttribute(\n  flex: typeof ConnieRTC,\n  _manager: ConnieRTC.Manager,\n) {\n  const channelDefinition = flex.DefaultTaskChannels.Call;\n  const { templates, icons } = channelDefinition;\n\n  channelDefinition.templates = {\n    ...templates,\n    TaskListItem: {\n      ...flex.DefaultTaskChannels.Call.templates?.TaskListItem,\n      firstLine: (task: ConnieRTC.ITask) => `(${task.attributes.customer}) ${task.defaultFrom}`,\n    },\n    TaskCanvasHeader: {\n      ...flex.DefaultTaskChannels.Call.templates?.TaskCanvasHeader,\n      title: (task: ConnieRTC.ITask) => `(${task.attributes.customer}) ${task.defaultFrom}`,\n    },\n  };\n\n  channelDefinition.icons = {\n    ...icons,\n    list: <CustomerAvatarObject key="task-list-customer-avatar" />,\n    main: <CustomerAvatarObject key="main-customer-avatar" />,\n    active: <CustomerAvatarObject key="active-customer-avatar" />,\n  };\n\n  // Nothing to return from hook, since we are overriding the default Call channel versus adding a new channel\n};\n'})})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(k,{...n})}):k(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>l});var a=t(96540);const s={},o=a.createContext(s);function i(n){const e=a.useContext(o);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),a.createElement(o.Provider,{value:e},n.children)}}}]);