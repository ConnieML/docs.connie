"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[4543],{28453:(e,i,t)=>{t.d(i,{R:()=>a,x:()=>l});var n=t(96540);const s={},r=n.createContext(s);function a(e){const i=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:i},e.children)}},50823:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/flex-user-experience-5c958787696b4bca3a44aba9bdbe2f59.gif"},84379:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"feature-library/teams-view-filters","title":"teams-view-filters","description":"ConnieRTC allows plugins to define Advanced Team View Filters, which provide a convenient way to add in your own filters to your ConnieRTC contact center based on your own worker attributes.","source":"@site/docs/feature-library/teams-view-filters.md","sourceDirName":"feature-library","slug":"/feature-library/teams-view-filters","permalink":"/feature-library/teams-view-filters","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"teams-view-filters","title":"teams-view-filters"},"sidebar":"tutorialSidebar","previous":{"title":"teams-view-enhancements","permalink":"/feature-library/teams-view-enhancements"},"next":{"title":"worker-canvas-tabs","permalink":"/feature-library/worker-canvas-tabs"}}');var s=t(74848),r=t(28453);const a={sidebar_label:"teams-view-filters",title:"teams-view-filters"},l=void 0,o={},d=[{value:"rtc-user-experience",id:"rtc-user-experience",level:2},{value:"setup and dependencies",id:"setup-and-dependencies",level:2},{value:"How does it work",id:"how-does-it-work",level:2},{value:"advanced filters background",id:"advanced-filters-background",level:3},{value:"email",id:"email",level:3},{value:"department",id:"department",level:3},{value:"team",id:"team",level:3},{value:"agent_skills",id:"agent_skills",level:3},{value:"queue_no_worker_data",id:"queue_no_worker_data",level:3},{value:"known issue",id:"known-issue",level:4},{value:"queue_worker_data",id:"queue_worker_data",level:3},{value:"activities",id:"activities",level:3}];function c(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["ConnieRTC allows plugins to define ",(0,s.jsx)(i.a,{href:"https://www.twilio.com/docs/flex/developer/ui/team-view-filters",children:"Advanced Team View Filters"}),", which provide a convenient way to add in your own filters to your ConnieRTC contact center based on your own worker attributes."]}),"\n",(0,s.jsx)(i.p,{children:"This configurable feature provides sample filters typically used in most contact centers:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Activities"}),"\n",(0,s.jsx)(i.li,{children:"Agent Skills"}),"\n",(0,s.jsx)(i.li,{children:"Department"}),"\n",(0,s.jsx)(i.li,{children:"Email Address"}),"\n",(0,s.jsx)(i.li,{children:"Team"}),"\n",(0,s.jsx)(i.li,{children:"Queue (two different solutions based on availability of a backend)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"As well as sample React components to support alternative filter selection options:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"SelectFilter (configurable to a single drop down or multi select drop down)"}),"\n",(0,s.jsx)(i.li,{children:"Free Form Text Filter"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"rtc-user-experience",children:"rtc-user-experience"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Supervisor View",src:t(50823).A+"",width:"1249",height:"766"})}),"\n",(0,s.jsx)(i.h2,{id:"setup-and-dependencies",children:"setup and dependencies"}),"\n",(0,s.jsxs)(i.p,{children:["To use the sample features, most of the filters can simply be toggled on in the flex-config (with the exception of ",(0,s.jsx)(i.code,{children:"queue_worker_data"}),", which is intended for use when a solution uses its own backend to keep worker attributes updated with a list of queues). See more details in ",(0,s.jsx)(i.a,{href:"#how-does-it-work",children:"how does it work"}),"."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'"teams_view_filters": {\n        "enabled": true,\n        "log_filters": false,\n        "applied_filters": {\n          "activities": true,\n          "email": true,\n          "department" : true,\n          "queue_no_worker_data": true,\n          "queue_worker_data": true,\n          "team": true,\n          "agent_skills": true\n        }\n      }\n'})}),"\n",(0,s.jsx)(i.h2,{id:"how-does-it-work",children:"How does it work"}),"\n",(0,s.jsx)(i.h3,{id:"advanced-filters-background",children:"advanced filters background"}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.a,{href:"https://www.twilio.com/docs/flex/developer/ui/team-view-filters",children:"Team View Filters"})," follow the interface outlined ",(0,s.jsx)(i.a,{href:"https://www.twilio.com/docs/flex/developer/ui/team-view-filters#filterdefinition",children:"here"})," to create a custom filter definition. Each filter, when used, ultimately adds an ",(0,s.jsx)(i.code,{children:"AppliedFilter"})," object to a filters array."]}),"\n",(0,s.jsx)(i.p,{children:"An applied filter follows this definition example:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'{\n    name: "data.activity",\n    condition: FilterConditions.IN,\n    values: ["Idle"]\n}\n'})}),"\n",(0,s.jsxs)(i.p,{children:["Where each item in the ",(0,s.jsx)(i.code,{children:"values"})," array is OR'd and each ",(0,s.jsx)(i.code,{children:"AppliedFilter"})," in the filters array is AND'd together to perform a Live Query against the ",(0,s.jsx)(i.a,{href:"https://www.twilio.com/docs/sync/live-query#index-name",children:"tr-worker index"}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["The result set shows up as the list of agents in the team view. It is worth remembering that the live query or instance query has a max result size of 200 objects. Another restriction worth remembering is that there is a maximum query size of 50 ",(0,s.jsx)(i.code,{children:"AppliedFilters"})," in the filters array."]}),"\n",(0,s.jsx)(i.h3,{id:"email",children:"email"}),"\n",(0,s.jsxs)(i.p,{children:["This filter simply matches against the worker attribute ",(0,s.jsx)(i.code,{children:"email"}),". In ConnieRTC this is already a required field to set up. The filter looks like the following:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'{\n    name: "data.attributes.email",\n    condition: FilterConditions.CONTAINS,\n    values: ["mysearchstring"]\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"department",children:"department"}),"\n",(0,s.jsxs)(i.p,{children:["This filter is based on the model of the worker attributes adopted from ConnieRTC insights. A definition of that model is ",(0,s.jsx)(i.a,{href:"https://www.twilio.com/docs/flex/developer/insights/enhance-integration#enhance-agent-data",children:"here"}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["The worker attribute ",(0,s.jsx)(i.code,{children:"department_name"})," may be pushed into the worker object through SSO or it may be managed directly in ConnieRTC using the ",(0,s.jsx)(i.a,{href:"worker-details",children:"worker-details"})," feature. In either case a predefined list of departments needs to be configured so that it can be selected from to search the workers with that applied department."]}),"\n",(0,s.jsx)(i.p,{children:"Ideally we would be able to get a unique lit of department_names from a lookup but there is no consistent way to do this without a backend solution. If building tooling in the solution to allow supervisors the ability to edit and apply department name, synchronizing these options should be a consideration."}),"\n",(0,s.jsxs)(i.p,{children:["However, as a starting point, the department filter uses the departments defined within the ",(0,s.jsx)(i.a,{href:"/developers/building/template-utilities/configuration#common-configuration",children:"common configuration"}),", which can be modified to consist of your unique department names."]}),"\n",(0,s.jsxs)(i.p,{children:["The filter matches against the worker attribute ",(0,s.jsx)(i.code,{children:"department_name"}),". The filter looks like the following:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'{\n    name: "data.attributes.department_name",\n    condition: FilterConditions.IN,\n    values: ["Department Name1", "Department Name 2"]\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"team",children:"team"}),"\n",(0,s.jsxs)(i.p,{children:["This filter is based on the model of the worker attributes adopted from ConnieRTC Insights. A definition of that model is ",(0,s.jsx)(i.a,{href:"https://www.twilio.com/docs/flex/developer/insights/enhance-integration#enhance-agent-data",children:"here"}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["The worker attribute ",(0,s.jsx)(i.code,{children:"team_name"})," may be pushed into the worker object through SSO, or it may be managed directly in ConnieRTC using the ",(0,s.jsx)(i.a,{href:"worker-details",children:"worker-details"})," feature. In either case, a predefined list of teams needs to be configured so that it can be selected from to search the workers with that applied team name."]}),"\n",(0,s.jsx)(i.p,{children:"Ideally we would be able to get a unique list of team names from a lookup, but there is no consistent way to do this without a backend solution. If building tooling in the solution to allow supervisors the ability to edit and apply team names, synchronizing these options should be a consideration."}),"\n",(0,s.jsxs)(i.p,{children:["However, as a starting point, the team filter uses the teams defined within the ",(0,s.jsx)(i.a,{href:"/developers/building/template-utilities/configuration#common-configuration",children:"common configuration"}),", which can be modified to consist of your unique team names."]}),"\n",(0,s.jsxs)(i.p,{children:["The filter matches against the worker attribute ",(0,s.jsx)(i.code,{children:"team_name"}),". The filter looks like the following:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'{\n    name: "data.attributes.team_name",\n    condition: FilterConditions.IN,\n    values: ["Team Name 1", "Team Name 2"]\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"agent_skills",children:"agent_skills"}),"\n",(0,s.jsx)(i.p,{children:"This filter is based on the skills model within ConnieRTC. It is entirely possible a different skills model could be adopted in which case this filter would need to be modified appropriately."}),"\n",(0,s.jsx)(i.p,{children:"The filter does an OR'd match on any of the selected skills. In other words, if an agent has any of the selected skills, they will be returned in the search results."}),"\n",(0,s.jsx)(i.p,{children:"The filter looks like the following:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'{\n    name: "data.attributes.routing.skills",\n    condition: FilterConditions.IN,\n    values: ["Skill 1", "Skill 2"]\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"queue_no_worker_data",children:"queue_no_worker_data"}),"\n",(0,s.jsxs)(i.p,{children:["This filter works by injecting a temporary placeholder into the filters that is then later intercepted using the ",(0,s.jsx)(i.a,{href:"https://assets.flex.twilio.com/docs/releases/flex-ui/latest/ui-actions/Actions#ApplyTeamsViewFilters",children:"AppliedTeamViewFilters"})," action hook."]}),"\n",(0,s.jsxs)(i.p,{children:["At time of interception the queue expression is loaded for the identified queue and the expression is converted into a filter or set of filters. As a result this filter supports only on a subset of queues as the ",(0,s.jsx)(i.a,{href:"#advanced-filters-background",children:"interface"})," for injecting queries limits the ability to do complex queries."]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"queues must use only AND'd expressions, the inclusion of any OR'd expressions will result in a notification to the user and the filter will be ignored"}),"\n",(0,s.jsxs)(i.li,{children:["expression can only use the following qualifiers: ",(0,s.jsx)(i.code,{children:"HAS"}),",",(0,s.jsx)(i.code,{children:"=="}),",",(0,s.jsx)(i.code,{children:"EQ"}),",",(0,s.jsx)(i.code,{children:"!="}),",",(0,s.jsx)(i.code,{children:"CONTAINS"}),",",(0,s.jsx)(i.code,{children:"IN"}),",",(0,s.jsx)(i.code,{children:"NOT IN"})]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["A more comprehensive solution can be found by leveraging a backend to keep track of queue to worker eligibility and keeping eligible queue sids synced on each individual worker object so it can be queried with a much simpler query filter like that in the ",(0,s.jsx)(i.a,{href:"#queue_worker_data",children:"queue_worker_data"})," filter"]}),"\n",(0,s.jsx)(i.h4,{id:"known-issue",children:"known issue"}),"\n",(0,s.jsxs)(i.p,{children:["Due to the way the ",(0,s.jsx)(i.code,{children:"queue_no_worker_data"})," filter injects multiple ",(0,s.jsx)(i.code,{children:"data.attributes"})," queries into the filters array, if another filter examines the same data element, that last array item to match that element shows up for that filter. As an example (visible in ",(0,s.jsx)(i.a,{href:"#rtc-user-experience",children:"rtc-user-experience"}),"), if a queue has an expression ",(0,s.jsx)(i.code,{children:"routing.skills HAS 'Retention'"})," it will produce a filter with"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:"name: `data.atttributes.routing.skills`;\n"})}),"\n",(0,s.jsxs)(i.p,{children:["This is the same name used by the ",(0,s.jsx)(i.a,{href:"#agent_skills",children:"agent_skills"})," filter so it shows up there."]}),"\n",(0,s.jsx)(i.h3,{id:"queue_worker_data",children:"queue_worker_data"}),"\n",(0,s.jsxs)(i.p,{children:["This filter simply matches against the worker attribute ",(0,s.jsx)(i.code,{children:"queues"}),". It is anticipated to be used when a backend solution populates a queue array on each worker that lists the queues that worker is eligible for."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'{\n    name: "data.attributes.queues",\n    condition: FilterConditions.CONTAINS,\n    values: ["queue sid 1", "queue sid 2"]\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"activities",children:"activities"}),"\n",(0,s.jsx)(i.p,{children:"This filter replaces the out-of-box activities filter. The only difference is that this one can be localized."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);