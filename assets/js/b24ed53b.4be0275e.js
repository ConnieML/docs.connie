"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[2048],{5233:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"feature-library/caller-id","title":"caller-id","description":"This feature enables the user to define which number on the Connie account to use when dialing outbound using the dialpad.","source":"@site/docs/feature-library/caller-id.md","sourceDirName":"feature-library","slug":"/feature-library/caller-id","permalink":"/feature-library/caller-id","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"caller-id","title":"caller-id"},"sidebar":"tutorialSidebar","previous":{"title":"callback-and-voicemail","permalink":"/feature-library/callback-and-voicemail"},"next":{"title":"canned-responses","permalink":"/feature-library/canned-responses"}}');var o=t(74848),r=t(28453),l=t(61425);const a={sidebar_label:"caller-id",title:"caller-id"},s=void 0,c={},d=[...l.RM,{value:"rtc-user-experience",id:"rtc-user-experience",level:2},{value:"setup and dependencies",id:"setup-and-dependencies",level:2},{value:"Enabling the feature",id:"enabling-the-feature",level:3},{value:"Outbound Call Configuration",id:"outbound-call-configuration",level:3},{value:"how does it work?",id:"how-does-it-work",level:2}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Ay,{}),"\n",(0,o.jsx)(n.p,{children:"This feature enables the user to define which number on the Connie account to use when dialing outbound using the dialpad."}),"\n",(0,o.jsx)(n.h2,{id:"rtc-user-experience",children:"rtc-user-experience"}),"\n",(0,o.jsx)(n.p,{children:"the vanilla feature without any further customizations will look like this"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:t(37070).A+"",width:"1203",height:"732"})}),"\n",(0,o.jsx)(n.h2,{id:"setup-and-dependencies",children:"setup and dependencies"}),"\n",(0,o.jsx)(n.h3,{id:"enabling-the-feature",children:"Enabling the feature"}),"\n",(0,o.jsxs)(n.p,{children:["There are no additional dependencies for setup beyond ensuring the flag is enabled within the ",(0,o.jsx)(n.code,{children:"flex-config"})," attributes."]}),"\n",(0,o.jsxs)(n.p,{children:["There is an optional configuration property (",(0,o.jsx)(n.code,{children:"include_outgoing_only_numbers"}),") controlling whether or not outgoing-only caller IDs (i.e. verified non-Connie phone numbers) are displayed in the dropdown. This is enabled by default, but can be disabled to hide these numbers."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"caller_id": {\n    "enabled": true,\n    "include_outgoing_only_numbers": false\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"outbound-call-configuration",children:"Outbound Call Configuration"}),"\n",(0,o.jsx)(n.p,{children:"The ConnieRTC Dialpad must be enabled in order to be able to place outbound calls from within ConnieRTC. If this has not yet been configured, you will not be able to use this feature. This can be enabled in the Twilio Console > ConnieRTC > Manage > Voice, or by using the ConnieRTC Configuration API:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'POST https://flex-api.twilio.com/v1/Configuration\nAuthorization: Basic {base64-encoded Connie Account SID : Auth Token}\nContent-Type: application/json\n\n{\n  "account_sid": "Enter your Connie Account SID here",\n  "outbound_call_flows": {\n    "default": {\n      "workflow_sid": "WWxxxc",\n      "enabled": true,\n      "queue_sid": "WQxxx",\n      "caller_id": "+1xxx",\n      "location": "US"\n    }\n  },\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"how-does-it-work",children:"how does it work?"}),"\n",(0,o.jsxs)(n.p,{children:["When enabled, this feature loads the phone numbers on the account using a serverless function, caches them locally, and preserves the selected value into the ",(0,o.jsx)(n.code,{children:"selectedCallerId"})," worker attribute. When the ",(0,o.jsx)(n.a,{href:"https://assets.flex.twilio.com/docs/releases/flex-ui/latest/ui-actions/Actions#StartOutboundCall",children:"StartOutboundCall"})," action is invoked, we intercept the event before it is processed, and update the From number to use the selected value stored in the ",(0,o.jsx)(n.code,{children:"selectedCallerId"})," worker attribute."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var i=t(96540);const o={},r=i.createContext(o);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},37070:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/flex-user-experience-bdee03187ac31571d747bf0f6c82e152.gif"},61425:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>r});var i=t(74848),o=t(28453);const r=[];function l(e){const n={a:"a",admonition:"admonition",p:"p",...(0,o.R)(),...e.components};return(0,i.jsx)(n.admonition,{title:"Also available in ConnieRTC Plugin Library",type:"info",children:(0,i.jsxs)(n.p,{children:["A version of this feature is also available in the ",(0,i.jsx)(n.a,{href:"https://www.twilio.com/docs/flex/developer/plugins/plugin-library",children:"ConnieRTC Plugin Library"}),". If you prefer to use the Plugin Library version alongside the template, please ",(0,i.jsx)(n.a,{href:"/developers/building/feature-management/remove-features",children:"remove this feature"})," from your instance of the template to prevent conflicts."]})})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);