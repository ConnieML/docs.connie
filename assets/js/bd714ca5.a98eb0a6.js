"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[2360],{28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>o});var n=i(96540);const l={},s=n.createContext(l);function r(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),n.createElement(s.Provider,{value:t},e.children)}},51264:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"developers/building/template-utilities/audit-logging","title":"Audit logging","description":"Location: plugin-flex-ts-template-v2/src/utils/helpers/AuditHelper.ts","source":"@site/docs/developers/building/template-utilities/audit-logging.md","sourceDirName":"developers/building/template-utilities","slug":"/developers/building/template-utilities/audit-logging","permalink":"/developers/building/template-utilities/audit-logging","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Audit logging"},"sidebar":"developer","previous":{"title":"ApiService","permalink":"/developers/building/template-utilities/apiservice"},"next":{"title":"Configuration","permalink":"/developers/building/template-utilities/configuration"}}');var l=i(74848),s=i(28453);const r={title:"Audit logging"},o=void 0,a={},c=[];function d(e){const t={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.p,{children:["Location: ",(0,l.jsx)(t.code,{children:"plugin-flex-ts-template-v2/src/utils/helpers/AuditHelper.ts"})]}),"\n",(0,l.jsxs)(t.p,{children:["When users make configuration changes, it can be difficult afterwards to track who made the change and identify what changed. ",(0,l.jsx)(t.code,{children:"AuditHelper.ts"})," exports a ",(0,l.jsx)(t.code,{children:"saveAuditEvent"})," function which will save an audit event to a Sync list named after the provided ",(0,l.jsx)(t.code,{children:"feature"})," parameter. The individual audit events will be saved with a TTL using the ",(0,l.jsx)(t.code,{children:"audit_log_ttl"})," ",(0,l.jsx)(t.a,{href:"configuration#common-configuration",children:"common configuration"})," property, which by default is two weeks. Each audit event will include a timestamp, as well as the name of the currently logged in worker."]}),"\n",(0,l.jsxs)(t.p,{children:["Audit logs can be viewed within the Twilio Console > Sync > Services > Default Service > Lists. You may also retrieve them via ",(0,l.jsx)(t.a,{href:"https://www.twilio.com/docs/sync/api/list-resource",children:"the Sync List APIs"}),"."]}),"\n",(0,l.jsxs)(t.p,{children:["When calling the ",(0,l.jsx)(t.code,{children:"saveAuditEvent"})," function, the following parameters are required:"]}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:(0,l.jsx)(t.code,{children:"feature"})}),": The name of the feature saving the audit log. The audit log will be saved to a Sync list named ",(0,l.jsx)(t.code,{children:"AuditLog_feature"}),"."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:(0,l.jsx)(t.code,{children:"event"})}),": A string describing the event being logged, which will be included in the audit log."]}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"You may also optionally provide these parameters as well:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:(0,l.jsx)(t.code,{children:"oldValue"})}),": For events representing a configuration change, this can be an object representing the original configuration to be included in the audit log."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:(0,l.jsx)(t.code,{children:"newValue"})}),": For events representing a configuration change, this can be an object representing the updated configuration to be included in the audit log."]}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"For examples of how to use the audit logger, see the following features:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"admin-ui"}),": ",(0,l.jsx)(t.code,{children:"plugin-flex-ts-template-v2/src/feature-library/admin-ui/utils/helpers.ts"})]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);