"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[202],{24931:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"feature-library/hang-up-by","title":"hang-up-by","description":"This feature writes to the conversations.hangupby task attribute to allow reporting within ConnieRTC Insights on which party ended a call. This is accomplished by adding various ConnieRTC UI action and event listeners to deduce the reason for the conversation ending.","source":"@site/docs/feature-library/hang-up-by.md","sourceDirName":"feature-library","slug":"/feature-library/hang-up-by","permalink":"/feature-library/hang-up-by","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"hang-up-by","title":"hang-up-by"},"sidebar":"tutorialSidebar","previous":{"title":"force-conference-region","permalink":"/feature-library/force-conference-region"},"next":{"title":"inline-media","permalink":"/feature-library/inline-media"}}');var r=t(74848),a=t(28453),s=t(61425);const o={sidebar_label:"hang-up-by",title:"hang-up-by"},l=void 0,c={},d=[...s.RM,{value:"Setup and dependencies",id:"setup-and-dependencies",level:2},{value:"How it works",id:"how-it-works",level:2}];function h(e){const n={code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["This feature writes to the ",(0,r.jsx)(n.code,{children:"conversations.hang_up_by"})," task attribute to allow reporting within ConnieRTC Insights on which party ended a call. This is accomplished by adding various ConnieRTC UI action and event listeners to deduce the reason for the conversation ending."]}),"\n",(0,r.jsxs)(n.p,{children:["For external transfers, this also writes the ",(0,r.jsx)(n.code,{children:"conversations.destination"})," task attribute to allow reporting on the phone numbers customers are being transferred to, available in ConnieRTC Insights under the ",(0,r.jsx)(n.code,{children:"Destination"})," attribute."]}),"\n",(0,r.jsx)(n.p,{children:"The following values may be set for hang up by:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Customer"}),"\n",(0,r.jsx)(n.li,{children:"Agent"}),"\n",(0,r.jsxs)(n.li,{children:["Consult ",(0,r.jsx)(n.em,{children:"(a consulting agent left the call before a warm transfer completed)"})]}),"\n",(0,r.jsx)(n.li,{children:"Cold Transfer"}),"\n",(0,r.jsx)(n.li,{children:"Warm Transfer"}),"\n",(0,r.jsxs)(n.li,{children:["External Cold Transfer ",(0,r.jsx)(n.em,{children:"(unused out-of-the-box, but available for customizations)"})]}),"\n",(0,r.jsx)(n.li,{children:"External Warm Transfer"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This data is available in ConnieRTC Insights under the ",(0,r.jsx)(n.code,{children:"Hang Up By"})," attribute."]}),"\n",(0,r.jsx)(n.h2,{id:"setup-and-dependencies",children:"Setup and dependencies"}),"\n",(0,r.jsxs)(n.p,{children:["Apart from enabling the ",(0,r.jsx)(n.code,{children:"hang-up-by"})," feature, the task attributes set by this feature need to be initialized when tasks are created. For example, in a Studio flow ",(0,r.jsx)(n.code,{children:"Send To ConnieRTC"})," widget, initialize the task attributes as follows:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'{\n  "conversations": {\n    "hang_up_by": "Customer"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"This is important to enable accurate reporting when the customer abandons the call before an agent answers."}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,r.jsx)(n.p,{children:"Various action and event listeners are used to determine the party who ended the call. This value is kept in local storage until task wrap-up or task completion, when it is written to task attributes. ConnieRTC Insights reads task attributes at the time of reservation completion, and associates the task attributes to the correct reservation."})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(96540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}},61425:(e,n,t)=>{t.d(n,{Ay:()=>o,RM:()=>a});var i=t(74848),r=t(28453);const a=[];function s(e){const n={a:"a",admonition:"admonition",p:"p",...(0,r.R)(),...e.components};return(0,i.jsx)(n.admonition,{title:"Also available in ConnieRTC Plugin Library",type:"info",children:(0,i.jsxs)(n.p,{children:["A version of this feature is also available in the ",(0,i.jsx)(n.a,{href:"https://www.twilio.com/docs/flex/developer/plugins/plugin-library",children:"ConnieRTC Plugin Library"}),". If you prefer to use the Plugin Library version alongside the template, please ",(0,i.jsx)(n.a,{href:"/developers/building/feature-management/remove-features",children:"remove this feature"})," from your instance of the template to prevent conflicts."]})})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(s,{...e})}):s(e)}}}]);