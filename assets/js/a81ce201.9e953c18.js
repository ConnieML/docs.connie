"use strict";(self.webpackChunkflex_project_template_docs=self.webpackChunkflex_project_template_docs||[]).push([[7920],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var a=n(96540);const i={},l=a.createContext(i);function s(e){const t=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(l.Provider,{value:t},e.children)}},37673:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"feature-library/localization","title":"localization","description":"A new native localization feature is available in Flex UI 2.10 and later. To use the native feature, navigate to Flex > Admin > Features > Beta, and enable the toggle for \\"Enable language selection\\". It will then be available after reloading Flex. The native feature has limited languages available, so the template feature remains available with support for additional languages, however both features cannot be enabled simultaneously.","source":"@site/docs/feature-library/localization.md","sourceDirName":"feature-library","slug":"/feature-library/localization","permalink":"/feature-library/localization","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"localization","title":"localization"},"sidebar":"tutorialSidebar","previous":{"title":"keyboard-shortcuts","permalink":"/feature-library/keyboard-shortcuts"},"next":{"title":"metrics-data-tiles","permalink":"/feature-library/metrics-data-tiles"}}');var i=n(74848),l=n(28453);const s={sidebar_label:"localization",title:"localization"},r=void 0,o={},d=[{value:"Feature summary",id:"feature-summary",level:2},{value:"Flex User Experience",id:"flex-user-experience",level:2},{value:"Setup and dependencies",id:"setup-and-dependencies",level:2},{value:"How does it work?",id:"how-does-it-work",level:2},{value:"Adding new translations",id:"adding-new-translations",level:2},{value:"Flex UI strings",id:"flex-ui-strings",level:3},{value:"Feature strings",id:"feature-strings",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.admonition,{title:"Native feature now available",type:"caution",children:(0,i.jsxs)(t.p,{children:["A new ",(0,i.jsx)(t.a,{href:"https://www.twilio.com/docs/flex/end-user-guide/change-display-language",children:"native localization feature"}),' is available in Flex UI 2.10 and later. To use the native feature, navigate to Flex > Admin > Features > Beta, and enable the toggle for "Enable language selection". It will then be available after reloading Flex. The native feature has limited languages available, so the template feature remains available with support for additional languages, however both features cannot be enabled simultaneously.']})}),"\n",(0,i.jsx)(t.h2,{id:"feature-summary",children:"Feature summary"}),"\n",(0,i.jsx)(t.p,{children:"This feature provides a language selection dropdown in the Flex UI header, as well as several translations for built-in Flex UI strings. You may also extend this feature to support additional languages as needed."}),"\n",(0,i.jsx)(t.h2,{id:"flex-user-experience",children:"Flex User Experience"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Localization demo",src:n(61283).A+"",width:"1005",height:"623"})}),"\n",(0,i.jsx)(t.h2,{id:"setup-and-dependencies",children:"Setup and dependencies"}),"\n",(0,i.jsxs)(t.p,{children:["To enable the localization feature, under your ",(0,i.jsx)(t.code,{children:"flex-config"})," attributes set the ",(0,i.jsx)(t.code,{children:"localization"})," ",(0,i.jsx)(t.code,{children:"enabled"})," flag to ",(0,i.jsx)(t.code,{children:"true"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'"localization": {\n    "enabled": true,\n    "show_menu": true\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["If you would like to disable the ability for users to set their own language, set ",(0,i.jsx)(t.code,{children:"show_menu"})," to ",(0,i.jsx)(t.code,{children:"false"}),". Even if the menu is disabled, the language may be set by administrators via one of the following methods:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Per-worker via SSO or API, by setting the ",(0,i.jsx)(t.code,{children:"language"})," worker attribute"]}),"\n",(0,i.jsxs)(t.li,{children:["Globally via the ",(0,i.jsx)(t.code,{children:"language"})," top-level ",(0,i.jsx)(t.code,{children:"flex-config"})," attribute"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"how-does-it-work",children:"How does it work?"}),"\n",(0,i.jsxs)(t.p,{children:["This feature replaces the Flex UI strings by appending new strings of the same name to the ",(0,i.jsx)(t.code,{children:"manager.strings"})," object. The language used is determined via a combination of factors:"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["If the global ",(0,i.jsx)(t.code,{children:"language"})," attribute in ",(0,i.jsx)(t.code,{children:"flex-config"})," is set to ",(0,i.jsx)(t.code,{children:"default"})," (which it is by default), and there is no language set on the worker, then the browser language is used if possible."]}),"\n",(0,i.jsxs)(t.li,{children:["If the global ",(0,i.jsx)(t.code,{children:"language"})," attribute in ",(0,i.jsx)(t.code,{children:"flex-config"})," is set to a specific language, and there is no language set on the worker, that language is used if supported."]}),"\n",(0,i.jsx)(t.li,{children:"If a language is set on the worker, it is used regardless of the global or browser settings."}),"\n",(0,i.jsxs)(t.li,{children:["As a default fallback, ",(0,i.jsx)(t.code,{children:"en-US"})," is used."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Languages are defined in the ",(0,i.jsx)(t.code,{children:"languages"})," directory of the feature. Each language is contained within a JSON file that lists all of the translated system strings for that language. The ",(0,i.jsx)(t.code,{children:"index.ts"})," file contains an array of languages, mapping the JSON translations to a display name and key value. To add a new language, add its corresponding JSON file, then add it to the array in ",(0,i.jsx)(t.code,{children:"index.ts"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"adding-new-translations",children:"Adding new translations"}),"\n",(0,i.jsx)(t.p,{children:"To add a new translation, you will need to translate strings for both Flex UI and the template features you are using."}),"\n",(0,i.jsx)(t.h3,{id:"flex-ui-strings",children:"Flex UI strings"}),"\n",(0,i.jsx)(t.p,{children:"To provide translated Flex UI strings, first retrieve the full list of English strings from Flex UI:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Open Flex UI with all plugins disabled"}),"\n",(0,i.jsxs)(t.li,{children:["In your browser's developer console, run the following command to copy the strings to your clipboard: ",(0,i.jsx)(t.code,{children:"copy(Twilio.Flex.Manager.getInstance().strings)"})]}),"\n",(0,i.jsx)(t.li,{children:"Paste the strings in a new, empty JSON file."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Now that you have a JSON representation of the Flex UI strings, provide them to your translator. Note that some strings include template placeholders and HTML, neither of which should be translated."}),"\n",(0,i.jsxs)(t.p,{children:["Once you have the translated JSON file, place it into the ",(0,i.jsx)(t.code,{children:"feature-library/localization/languages"})," directory, preferably named for the locale that it represents (for example, ",(0,i.jsx)(t.code,{children:"en-gb.json"}),"). Then, open the ",(0,i.jsx)(t.code,{children:"index.ts"})," file in that directory and make the following changes:"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Import your newly translated JSON file"}),"\n",(0,i.jsx)(t.li,{children:"Update the exported array with the definition for your new language."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"After making these changes, the language will appear in the localization menu and is ready to use. However, template features are not yet localized, only Flex UI. Follow the steps in the next section to translate feature strings."}),"\n",(0,i.jsx)(t.h3,{id:"feature-strings",children:"Feature strings"}),"\n",(0,i.jsxs)(t.p,{children:["Each feature in the template is responsible for its own translations. These are implemented within the feature's ",(0,i.jsx)(t.em,{children:"strings hook"}),". Within each feature's strings hook, you may add versions of each string for each locale you wish to support. See ",(0,i.jsx)(t.em,{children:"How to build on the template"})," for more details."]})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},61283:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/localization-3e89295db26ecc1e00c46e2d4caff34b.gif"}}]);